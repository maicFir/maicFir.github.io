import{_ as e,o,c,b as s,a as p,e as a,d as n,r as l}from"./app.13e035d0.js";const i={},u=a('<p>\u5728\u4E0A\u4E00\u7BC7\u4E2D\uFF0C\u6211\u4EEC\u7528\u5185\u7F6E\u7EC4\u4EF6\u5207\u4E86\u4E00\u5F20<code>\u4EFF\u6DD8\u5B9D\u9996\u9875</code>\uFF0C\u4E3B\u8981\u4E86\u89E3\u5230\u4E86<code>uni-app</code>\u5185\u7F6E\u7EC4\u4EF6\u7684\u5E03\u5C40\uFF0C\u6211\u4EEC\u5728\u5E03\u5C40\u9996\u9875\u65F6\uFF0C\u6211\u4EEC\u4F7F\u7528\u4E86<code>uni-list</code>\u8FD9\u4E2A\u7EC4\u4EF6\uFF0C\u8FD9\u662F\u4E00\u4E2A<code>uni-app</code>\u5185\u7F6E\u5B98\u65B9\u6269\u5C55\u7EC4\u4EF6,\u8BE5\u7EC4\u4EF6\u957F\u5217\u8868\u6027\u80FD\u4F18\u5316\uFF0C\u591A\u7AEF\u517C\u5BB9\u3002</p><p>\u6211\u4EEC\u7EE7\u7EED\u5B8C\u5584\u4E00\u4E0B\u9996\u9875\u7684\u5546\u54C1\u5217\u8868\u6A21\u5757</p><p>\u4E3B\u8981\u4F1A\u4ECE\u4EE5\u4E0B\u5B8C\u5584\u529F\u80FD</p><ul><li><p>\u5728\u7EBFmock\u5546\u54C1\u6570\u636E</p></li><li><p>\u5B9E\u73B0\u5546\u54C1\u7684\u4E0A\u62C9\u52A0\u8F7D\uFF0C\u4E0B\u62C9\u5237\u65B0</p></li></ul><h3 id="\u5728\u7EBFmock\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u5728\u7EBFmock\u6570\u636E" aria-hidden="true">#</a> \u5728\u7EBF<code>mock</code>\u6570\u636E</h3>',5),r=n("\u9996\u5148\u6211\u4EEC\u5728"),k={href:"https://mock.mengxuegu.com/",title:"EazyMock",target:"_blank",rel:"noopener noreferrer"},d=n("EazyMock"),v=n("\u5728\u7EBF\u5E73\u53F0\u767B\u9646\uFF0C\u521B\u5EFA\u4E00\u4E2A\u4E2A\u4EBA\u9879\u76EE\uFF0C\u7136\u540E\u6211\u4EEC\u5728\u7EBF\u521B\u5EFA\u4E00\u4E2A\u63A5\u53E3"),m=a(`<p><img src="https://files.mdnice.com/user/24614/adbb06e5-0615-4a92-af64-d5f230e623d0.png" alt=""></p><p>\u7136\u540E\u6211\u4EEC\u7F16\u8F91<code>mock</code>\u6570\u636E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">pageIndex</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
      _req
    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pageIndex
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">pageSize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
      _req
    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pageSize
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;list|10&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;url&#39;</span><span class="token operator">:</span> <span class="token string">&quot;@image(&#39;200x100&#39;, &#39;#50B347&#39;, &#39;#FFF&#39;, &#39;Web\u6280\u672F\u5B66\u82D1&#39;)&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;desc&#39;</span><span class="token operator">:</span> <span class="token string">&#39;@ctitle()&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;prices&#39;</span><span class="token operator">:</span> <span class="token string">&#39;@integer(100,1000)&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;buys&#39;</span><span class="token operator">:</span> <span class="token string">&#39;@integer(60,100)&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4EE3\u7801\u4E2D\u6211\u4EEC\u9700\u8981\u5C06\u6A21\u62DF\u7684<code>mock</code>\u6570\u636E\u653E\u7F6E\u5230\u6570\u636E\u4E2D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Content.vue</span>
 <span class="token operator">...</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function">queryGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">const</span> <span class="token punctuation">{</span>condation<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;https://mock.mengxuegu.com/mock/63e0b9f41b8291742151c7a2/tabbao/goodslist&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">data</span><span class="token operator">:</span> condation<span class="token punctuation">,</span>
					<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
						<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">;</span>
						<span class="token keyword">this</span><span class="token punctuation">.</span>shopData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shopData<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>list<span class="token punctuation">)</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u770B\u4E0B\u9884\u89C8\u6548\u679C,\u9875\u9762\u5C55\u793A\u4E86<code>10</code>\u6761\u6570\u636E <img src="https://files.mdnice.com/user/24614/a2d15d12-3e22-4170-bc16-853e1041e676.png" alt=""></p><h3 id="\u4E0A\u62C9\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u4E0A\u62C9\u52A0\u8F7D" aria-hidden="true">#</a> \u4E0A\u62C9\u52A0\u8F7D</h3>`,7),b=n("\u5728"),g=s("code",null,"uni-app",-1),h=n("\u4E2D\u5B9E\u73B0\u4E0A\u62C9\u52A0\u8F7D\u4E3B\u8981\u6709\u4E24\u79CD\u65B9\u6848\uFF0C\u7B2C\u4E00\u79CD\u7684\u662F\u4F7F\u7528\u5185\u7F6E\u7EC4\u4EF6"),y=s("code",null,"scroll-view",-1),q=n("\uFF0C\u53E6\u4E00\u79CD\u5C31\u662F\u4F7F\u7528\u539F\u751F"),f=s("code",null,"pages.json",-1),_=n("\u914D\u7F6E\u5B9E\u73B0\uFF0C\u6211\u4EEC\u9700\u8981\u6CE8\u610F"),w=s("code",null,"scroll-view",-1),x=n("\u662F\u533A\u57DF\u6EDA\u52A8\uFF0C\u5E76\u4E14"),j={href:"https://uniapp.dcloud.net.cn/component/scroll-view.html",title:"scroll-view",target:"_blank",rel:"noopener noreferrer"},D=n("scroll-view"),R=n("\u5E76\u4E0D\u9002\u5408\u957F\u5217\u8868"),S=a(`<p>\u5B98\u65B9\u63A8\u8350\u4E0A\u62C9\u52A0\u8F7D\u4F7F\u7528\u539F\u751F\u914D\u7F6E</p><p>\u9996\u5148\u6211\u4EEC\u5FC5\u987B\u5728<code>pages.json</code>\u4E2D\u5BF9\u5E94\u7684<code>style</code>\u4E2D\u6DFB\u52A0<code>enablePullDownRefresh</code></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
			<span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pages/index/index&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;style&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;navigationBarTitleText&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u4EFF\u6DD8\u5B9D\u7F51\u89E6\u5C4F\u7248&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;enablePullDownRefresh&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),B=n("\u53EA\u6709\u5BF9\u5E94\u8DEF\u6709\u9875\u9762\u65B0\u589E"),I={href:"https://uniapp.dcloud.net.cn/collocation/pages.html#pages",title:"enablePullDownRefresh",target:"_blank",rel:"noopener noreferrer"},P=n("enablePullDownRefresh"),z=n("\uFF0C\u5BF9\u5E94\u8DEF\u7531\u9875\u9762\u624D\u4F1A\u89E6\u53D1\u4E0B\u62C9\u52A0\u8F7D\u94A9\u5B50"),C=a(`<p>\u6211\u4EEC\u5728\u4E3B\u9875\u9762\u53EF\u4EE5\u770B\u5230</p><ul><li>\u65B0\u589E\u4E86\u4E24\u4E2A\u65B9\u6CD5<code>onPullDownRefresh</code>\u3001<code>onReachBottom</code></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Header</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Content</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">&quot;./component/Header.vue&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">import</span> Content <span class="token keyword">from</span> <span class="token string">&quot;./component/Content.vue&quot;</span><span class="token punctuation">;</span>
	
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			Header<span class="token punctuation">,</span>
			Content
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">pullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onReachBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">reachBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;index load&#39;</span><span class="token punctuation">)</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;index on show&#39;</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
	
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>onPullDownRefresh</code>\u5728\u4E0B\u62C9\u65F6\u4F1A\u89E6\u53D1\u8FD9\u4E2A\u94A9\u5B50\u51FD\u6570</p><p><code>onReachBottom</code>\u89E6\u53D1\u5E95\u90E8\u65F6\u4F1A\u89E6\u53D1\u8FD9\u4E2A\u51FD\u6570</p><p>\u6CE8\u610F\u8FD9\u4E24\u4E2A\u94A9\u5B50\u53EA\u80FD\u5728\u4E3B\u9875\u91CC\u751F\u6548\uFF0C\u5E76\u4E0D\u80FD\u5728<code>content</code>\u7EC4\u4EF6\u4E2D\u751F\u6548\uFF0C\u6240\u4EE5\u6211\u4EEC\u4F7F\u7528\u4E00\u4E2A<code>ref</code>\u65B9\u5F0F\u4E0E\u5B50\u7EC4\u4EF6\u901A\u4FE1</p><p>\u5728<code>Content</code>\u7EC4\u4EF6\u4E2D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function">queryGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">const</span> <span class="token punctuation">{</span> condation <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>loadStatus <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
				uni<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;https://mock.mengxuegu.com/mock/63e0b9f41b8291742151c7a2/tabbao/goodslist&quot;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">data</span><span class="token operator">:</span> condation<span class="token punctuation">,</span>
					<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
						<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">;</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>hasMore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">this</span><span class="token punctuation">.</span>loadStatus <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
							<span class="token keyword">this</span><span class="token punctuation">.</span>shopData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shopData<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>list<span class="token punctuation">)</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
							<span class="token keyword">this</span><span class="token punctuation">.</span>loadStatus <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// \u4E0B\u62C9\u5237\u65B0</span>
			<span class="token function">pullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>condation<span class="token punctuation">.</span>pageIndex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>condation<span class="token punctuation">.</span>pageSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>shopData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// \u505C\u6B62loading</span>
				uni<span class="token punctuation">.</span><span class="token function">stopPullDownRefresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// \u4E0A\u62C9\u89E6\u53D1\u5E95\u90E8\u52A0\u8F7D</span>
			<span class="token function">reachBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>condation<span class="token punctuation">.</span>pageIndex <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span>condation<span class="token punctuation">.</span>pageIndex <span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4F7F\u7528<code>hasMore</code>\u7684\u6807\u8BC6\u6A21\u62DF\u6570\u636E\u52A0\u8F7D\u5B8C\u6BD5\uFF0C\u5F53<code>hasMore</code>\u4E3A<code>false</code>\u65F6\u5C31\u4EE3\u8868\u6570\u636E\u52A0\u8F7D\u5B8C\u6BD5</p><p><code>loadStatus</code>\u7528<code>0,1,2</code>\u4E09\u4E2A\u503C\u4EE3\u8868\u52A0\u8F7D\u72B6\u6001</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>	<span class="token comment">&lt;!--\u5546\u54C1\u5217\u8868_start--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-list</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shop-list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni-list-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in shopData<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-item-body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aspectFill<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card-item-body-desc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{item.desc}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prise<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\uFFE5{{item.prices}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
							<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>buys<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.buys}}+\u4EBA\u5DF2\u8D2D\u4E70<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
						<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-list-item</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>load-status<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				{{loadStatusText[loadStatus]}}
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uni-list</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6700\u540E\u7684\u7ED3\u679C\u7FFB\u5230\u6700\u540E\u4E00\u9875\u65F6 <img src="https://files.mdnice.com/user/24614/195eda64-ff4c-4928-bce9-446ccaa061e2.png" alt=""></p><p>\u5F53<code>pageIndex==5</code>\u65F6\uFF0C\u5728\u7EBF\u7684<code>mock</code>\u63A5\u53E3\u5C06<code>hasMore</code>\u6539\u6210false</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">pageIndex</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
      _req
    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pageIndex
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">pageSize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
      _req
    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pageSize
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">hasMore</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
      _req
    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>pageIndex <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;list|10&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;url&#39;</span><span class="token operator">:</span> <span class="token string">&quot;@image(&#39;200x100&#39;, &#39;#50B347&#39;, &#39;#FFF&#39;,&#39;Web\u6280\u672F\u5B66\u82D1&#39;)&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;desc&#39;</span><span class="token operator">:</span> <span class="token string">&#39;@ctitle()&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;prices&#39;</span><span class="token operator">:</span> <span class="token string">&#39;@integer(100,1000)&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;buys&#39;</span><span class="token operator">:</span> <span class="token string">&#39;@integer(60,100)&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h3>`,15),E=a("<li><p>\u4E3B\u8981\u662F\u5B8C\u5584\u9996\u9875\u5546\u54C1\u5217\u8868\uFF0C\u901A\u8FC7\u5185\u7F6E\u914D\u7F6E\u5B9E\u73B0<code>\u4E0B\u62C9\u5237\u65B0</code>\u4E0E\u4E0A\u62C9\u52A0\u8F7D</p></li><li><p><code>pages.json</code>\u4E2D\u5173\u952E\u7684\u914D\u7F6E<code>enablePullDownRefresh</code>\uFF0C\u5F53\u5B83\u4E3Atrue\u65F6\u4F1A\u89E6\u53D1\u9875\u9762\u7684<code>onPullDownRefresh</code>\u4E0E<code>onReachBottom</code></p></li><li><p><code>EazyMock</code>\u5728\u7EBF\u6A21\u62DF\u4E86\u63A5\u53E3\uFF0C\u5B9E\u73B0\u5047\u6570\u636E\u7684\u586B\u5145</p></li>",3),F=n("\u672C\u6587\u793A\u4F8B"),G={href:"https://github.com/maicFir/uni-app-taobao",title:"code example",target:"_blank",rel:"noopener noreferrer"},M=n("code example");function T(H,N){const t=l("ExternalLinkIcon");return o(),c("div",null,[u,s("p",null,[r,s("a",k,[d,p(t)]),v]),m,s("p",null,[b,g,h,y,q,f,_,w,x,s("a",j,[D,p(t)]),R]),S,s("p",null,[B,s("a",I,[P,p(t)]),z]),C,s("ul",null,[E,s("li",null,[s("p",null,[F,s("a",G,[M,p(t)])])])])])}var L=e(i,[["render",T],["__file","2023-02-06.html.vue"]]);export{L as default};
