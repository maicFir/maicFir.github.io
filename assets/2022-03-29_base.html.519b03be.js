import{_ as n,o as s,c as a,e as p}from"./app.13e035d0.js";const t={},e=p(`<p>\u901A\u5E38\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u65E0\u8BBA\u64CD\u4F5C<code>\u6570\u636E</code>\u3001\u6216\u662F<code>dom</code>\uFF0C\u6211\u4EEC\u9700\u8981\u719F\u6089\u4E00\u4E9B<code>\u6D4F\u89C8\u5668</code>\u7684<code>API</code>,\u6216\u662F<code>js</code>\u539F\u751F\u7ED9\u6211\u4EEC\u6269\u5C55\u7684<code>API</code>\uFF0C\u6211\u4EEC\u719F\u6089\u4E86\u8FD9\u4E9B<code>API</code>,\u67D0\u79CD\u610F\u4E49\u4E0A\u6765\u8BF4\uFF0C\u4E00\u4E9B\u9AD8\u6548\u7684<code>API</code>\u548C<code>\u65B9\u6CD5</code>\u5E38\u5E38\u4F1A\u89E3\u60D1\u4F60\u9879\u76EE\u4E2D\u9047\u5230\u7684\u5F88\u591A\u7591\u96BE\u6742\u75C7\u3002</p><p>\u672C\u6587\u53EA\u4F5C\u4E00\u4E9B\u7B14\u8005\u9879\u76EE\u4E2D\u5173\u4E8E<code>URL</code>\u5E38\u7528\u5230\u7684<code>API</code>\uFF0C\u5E0C\u671B\u5728\u4F60\u9879\u76EE\u4E2D\u80FD\u5E26\u6765\u4E00\u70B9\u601D\u8003\u548C\u5E2E\u52A9\u3002</p><p>\u6B63\u6587\u5F00\u59CB...</p><h3 id="location-\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#location-\u5BF9\u8C61" aria-hidden="true">#</a> location \u5BF9\u8C61</h3><p>\u63A7\u5236\u53F0\u4E0B\uFF0C<code>window.location</code>\u83B7\u53D6\u6D4F\u89C8\u5668\u5730\u5740 URL \u76F8\u5173\u4FE1\u606F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// window.location</span>
<span class="token comment">/*
https://www.baidu.com/s?wd=Reflect.%20defineProperty&amp;rsv_spt=1#123
*/</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> href<span class="token punctuation">,</span> origin<span class="token punctuation">,</span> host<span class="token punctuation">,</span> port<span class="token punctuation">,</span> protocol<span class="token punctuation">,</span> pathname<span class="token punctuation">,</span> hash<span class="token punctuation">,</span> search <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83B7\u53D6\u6574\u4E2AURL xxx</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u534F\u8BAE+\u57DF\u540D+\u7AEF\u53E3  https://www.baidu.com</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4E3B\u673A\u540D+\u7AEF\u53E3\u53F7\uFF08http\u6216\u8005https\u4F1A\u7701\u7565\u7AEF\u53E3\u53F7\uFF09  www.baidu.com</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;&#39; http\u9ED8\u8BA4\u7AEF\u53E380 https\u9ED8\u8BA4\u7AEF\u53E3443</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u534F\u8BAE https:</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u9664\u4E86\u57DF\u540D\u7684\u8DEF\u7531\u5730\u5740\u8DEF\u5F84</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8DEF\u5F84\u5E26#\u7684\u53C2\u6570</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5730\u5740?\u540E\u9762\u6240\u6709\u53C2\u6570</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728<code>location.search</code>\u3001<code>location.hash</code>\u3001<code>location.origin</code>\u3001<code>location.href</code>\u662F\u901A\u5E38\u9879\u76EE\u4E2D\u51E0\u4E2A\u6BD4\u8F83\u9AD8\u9891\u7684\u83B7\u53D6\u5F53\u524D\u5730\u5740\u7684\u4E00\u4E9B\u53C2\u6570\u65B9\u6CD5\uFF0C\u4E0D\u8FC7\u6CE8\u610F\u53EA\u6709<code>location.origin</code>\u8FD9\u4E2A\u662F\u53EA\u8BFB\u7684\uFF0C\u5176\u4ED6<code>API</code>\u90FD\u662F\u53EF\u8BFB\u53EF\u5199</p><h3 id="url" tabindex="-1"><a class="header-anchor" href="#url" aria-hidden="true">#</a> URL</h3><p>\u5728<code>js</code>\u4E2D\u521B\u5EFA\u4E00\u4E2A\u5730\u5740,\u4F7F\u7528\u573A\u666F,\u4E3E\u4E2A\u6817\u5B50,\u6211\u4EEC\u7528<code>URL</code>\u6A21\u62DF\u5F53\u524D\u9875\u9762\u7684\u5730\u5740</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.baidu.com/s?wd=Reflect.%20defineProperty&amp;rsv_spt=1#123&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ?wd=Reflect.%20defineProperty&amp;rsv_spt=1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// #123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// https://www.baidu.com</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;https://www.baidu.com/s?wd=Reflect.%20defineProperty&amp;rsv_spt=1#123&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>URL</code>\u8FD9\u4E2A\u539F\u751F\u6784\u9020\u7684\u5730\u5740\u4E2D\u5C5E\u6027\u4E0E<code>location</code>\u83B7\u53D6\u5730\u5740\u4E0A\u7684\u901A\u7528\u5C5E\u6027\u90FD\u57FA\u672C\u4E00\u6837\u3002\u552F\u4E00\u7684\u533A\u522B\u662F\uFF0C<code>location</code>\u591A\u4E86<code>replace</code>\u4E0E<code>reload</code>\u65B9\u6CD5,<code>URL</code>\u9664\u4E86\u62E5\u6709<code>location</code>\u7684\u901A\u7528\u5C5E\u6027\uFF0C\u6CA1\u6709<code>replace</code>\u4E0E<code>reload</code>\u65B9\u6CD5\uFF0C\u4F46\u662F\u4ED6\u5177\u5907\u4E00\u4E2A\u83B7\u53D6\u53C2\u6570\u7684\u4E00\u4E2A<code>searchParams</code>API</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>searchParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { &#39;wd&#39; =&gt; &#39;Reflect. defineProperty&#39;, &#39;rsv_spt&#39; =&gt; &#39;1&#39; }</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// wd=Reflect.+defineProperty&amp;rsv_spt=1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="searchparams" tabindex="-1"><a class="header-anchor" href="#searchparams" aria-hidden="true">#</a> searchParams</h3><p>\u5FEB\u901F\u83B7\u53D6<code>URL</code>\u4E2D\u643A\u5E26\u53C2\u6570\u7684\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u5728<code>URL</code>\u6784\u5EFA\u7684\u5730\u5740\u4E2D\u975E\u5E38\u65B9\u4FBF\u3002\u6BD4\u5982\u73B0\u5728\u6709\u4E00\u4E2A\u9700\u6C42\uFF0C\u6211\u9700\u8981\u5C06\u4E00\u4E2A\u5730\u5740\u7684\u53C2\u6570\u8F6C\u6362\u6210<code>key</code>\u4E0E<code>value</code>\u7684\u952E\u503C\u5BF9\u3002</p><p>\u4EE5\u524D\u6211\u4EEC\u7684\u505A\u6CD5\u662F\u8FD9\u6837\u7684</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">formateQueryUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> search <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">;</span>
  <span class="token comment">// \u4EE5\uFF1F\u5206\u5272\uFF0C\u83B7\u53D6url\u4E0A\u7684\u771F\u6B63\u7684\u53C2\u6570</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> searchStr<span class="token punctuation">]</span> <span class="token operator">=</span> search<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;?&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u4EE5&amp;\u5206\u5272\u524D\u540E\u53C2\u6570</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> searchStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> val<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ret<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u66F4\u9AD8\u6548\u7684\u5229\u7528<code>URL</code>\u7684<code>searchParams</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4E0E\u4E0A\u9762formateQueryUrl\u65B9\u6CD5\u7B49\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">eazyFormateQueryUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>searchParams<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5982\u679C\u5F53\u524D\u6D4F\u89C8\u5668\u5730\u5740 https://www.badu.com?a=1&amp;b=2</span>
<span class="token comment">// {a:1,b:2}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E2A<code>eazyFormateQueryUrl</code>\u65B9\u6CD5\u662F\u4E0D\u662F\u5F88\u7B80\u5355\uFF0C\u4E24\u884C\u4EE3\u7801\u5C31\u641E\u5B9A\u4E86\u683C\u5F0F\u5316<code>url</code>\u4E2D\u7684\u53C2\u6570\uFF0C\u5E76\u4E14\u5C06\u4E00\u4E32\u5B57\u7B26\u4E32\u53C2\u6570\u8F7B\u677E\u7684\u8F6C\u6362\u6210\u4E86\u5BF9\u8C61</p><p>\u6CE8\u610F\u4E0A\u9762\u7684\u65B9\u6CD5\u6211\u4EEC\u4F7F\u7528\u4E86<code>Object.fromEntries</code>\u4E0E<code>url.searchParams.entries()</code>,\u5176\u5B9E<code>url.searchParams</code>\u7684\u6784\u9020\u51FD\u6570\u5C31\u662F<code>URLSearchParams</code>,\u800C<code>URLSearchParams</code>\u662F\u4E00\u4E2A\u5177\u6709\u53EF<code>\u8FED\u4EE3\u5668</code>\u529F\u80FD\u7684 API\uFF0C\u6240\u4EE5\u4F60\u53EF\u4EE5<code>for...of</code>\u6216\u8005<code>entries</code>\u64CD\u4F5C\u3002</p><p>\u540C\u65F6\u6211\u4EEC\u6CE8\u610F<code>fromEntries</code>\uFF0C\u6211\u4EEC\u770B\u4E0B\u8FD9\u4E2A<code>API</code>,\u901A\u5E38\u6211\u4EEC\u4E0D\u5E38\u7528\uFF0C\u4E00\u822C\u6211\u4EEC\u90FD\u662F<code>entries</code>\u64CD\u4F5C\u5F97\u591A\uFF0C\u4F46\u662F\u5B9E\u9645\u4E0A<code>fromEntries</code>\u5C31\u662F\u8FD8\u539F\u5BF9\u8C61\u7684<code>entries</code>\u64CD\u4F5C,\u8FD9\u91CC\u6211\u4EEC\u5C31\u662F\u5229\u7528\u4E86\u8FD9\u4E00\u70B9\u3002</p><p>\u4E3E\u4E2A\u6817\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Maic&#39;</span><span class="token punctuation">,</span> <span class="token keyword">public</span><span class="token operator">:</span> <span class="token string">&#39;Web\u6280\u672F\u5B66\u82D1&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [[&#39;name&#39;, &#39;Maic&#39;], [&#39;public&#39;, &#39;Web\u6280\u672F\u5B66\u82D1&#39;]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u60F3\u5C06<code>arr</code>\u8FD8\u539F\u6210\u4EE5\u524D\u7684\u5BF9\u8C61\uFF0C\u90A3\u4E48\u4F60\u80AF\u5B9A\u60F3\u5230\u5FAA\u73AF\u7684\u505A\u6CD5,\u50CF\u4E0B\u9762\u8FD9\u6837</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> val<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
  target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {name: &#39;Maic&#39;, public: &#39;Web\u6280\u672F\u5B66\u82D1&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u5B9E\u4E0D\u7528\u5FAA\u73AF\uFF0C\u539F\u751F Object \u63D0\u4F9B\u4E86\u4E00\u4E2A<code>API</code>\uFF0C\u5B83\u53EF\u4EE5\u5C06<code>entries</code>\u6570\u636E\u8FD8\u539F\u6210\u4EE5\u524D\u7684\u3002\u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u7B80\u5355\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Maic&#39;</span><span class="token punctuation">,</span> <span class="token keyword">public</span><span class="token operator">:</span> <span class="token string">&#39;Web\u6280\u672F\u5B66\u82D1&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* const target = {};
arr.forEach(item =&gt; {
  const [key, val] = item;
  target[key] = val;
});
*/</span>
<span class="token comment">// \u4E0E\u4E0B\u9762\u7B49\u4EF7</span>
<span class="token keyword">const</span> target <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {name: &#39;Maic&#39;, public: &#39;Web\u6280\u672F\u5B66\u82D1&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B63\u56E0\u4E3A\u5982\u6B64,\u6211\u4EEC\u5229\u7528\u4E86<code>fromEntries</code>\u7684\u8FD9\u70B9\u7279\u6027\uFF0C\u5DE7\u5999\u7684\u5C06\u539F\u6570\u636E\u8FDB\u884C\u8F6C\u5BF9\u8C61\u4E86\u3002</p><p>\u5BF9\u4E8E<code>URL</code>,\u6211\u4EEC\u8FD8\u9700\u8981\u53EF\u4EE5\u52A8\u6001\u7684\u6DFB\u52A0\u8DEF\u5F84\uFF0C\u6BD4\u5982\u4E0B\u9762\u4E00\u4E2A\u6817\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">locationByNamePath</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> origin <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">;</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">locationByNamePath</span><span class="token punctuation">(</span><span class="token string">&#39;/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// https://www.baidu.com/index.html</span>
<span class="token function">locationByNamePath</span><span class="token punctuation">(</span><span class="token string">&#39;/about.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// https://www.baidu.com/about.html</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="urlsearchparams" tabindex="-1"><a class="header-anchor" href="#urlsearchparams" aria-hidden="true">#</a> URLSearchParams</h3><p>\u8FD9\u4E2A<code>API</code>\u662F\u4E00\u4E2A\u539F\u751F\u7684\u6784\u9020\u51FD\u6570\uFF0C\u53EF\u4EE5\u83B7\u53D6\u5730\u5740<code>?</code>\u540E\u9762\u7684\u53C2\u6570\u4FE1\u606F</p><p>\u4E3E\u4E2A\u6817\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> urlSearch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>urlSearch<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u6253\u5F00\u767E\u5EA6\uFF0C\u5728\u63A7\u5236\u53F0\u968F\u4FBF\u8F93\u5165\u5173\u952E\u5B57\u641C\u7D22\uFF0C\u63A7\u5236\u53F0\u590D\u5236\u8BE5\u65AD\u4EE3\u7801\uFF0C\u5C31\u53EF\u4EE5\u770B\u5230</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://files.mdnice.com/user/24614/016c3b2a-1298-4566-8e10-8ad1eadb47ca.jpg" alt=""><code>URLSearchParams</code>\u4F20\u5165\u5B57\u7B26\u4E32</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> search <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token string">&#39;a=1&amp;b=2&amp;c=3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a=1&amp;b=2&amp;c=3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B49\u4EF7\u4E8E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> search <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a=1&amp;b=2&amp;c=3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>URLSearchParams</code>\u4F20\u5165\u6570\u7EC4,\u5C06\u4E00\u4E2A\u5BF9\u8C61\u8F6C\u6362\u6210<code>url</code>\u53C2\u6570,\u901A\u5E38\u5728<code>ajax</code>get \u8BF7\u6C42\u62FC\u63A5\u53C2\u6570\u65F6\uFF0C\u53EF\u80FD\u5F88\u6709\u7528</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> search2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//a=1&amp;b=2&amp;c=3</span>
$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">xxxx?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>search2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token string">&#39;get&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u6211\u4EEC\u4F7F\u7528<code>fetch</code>\u539F\u751F<code>api</code>\u8BF7\u6C42\u65F6\uFF0C<code>new URLSearchParams</code>\u53EF\u4EE5\u4F5C\u4E3A<code>body</code>\u53C2\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;maic&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&#39;123456&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://baidu.com&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u77E5\u9053<code>URLSearchParams</code>\u5177\u6709\u53EF\u8FED\u4EE3\u5668\u5C5E\u6027\u7684\u7279\u5F81\uFF0C\u56E0\u6B64\u5B83\u50CF<code>Map</code>\u3001<code>Set</code>\u4E00\u6837\u5177\u6709<code>\u589E\u5220\u67E5\u6539</code>\u7684\u7279\u6027</p><p><code>\u67E5</code>get \u83B7\u53D6\u53C2\u6570\u503C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> search2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;c&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>\u589E</code>append,\u6DFB\u52A0\u67D0\u4E2A\u53C2\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
search2<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// a=1&amp;b=2&amp;c=3&amp;d=hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>\u5220</code>delete \u5220\u9664\u67D0\u4E2A\u53C2\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
search2<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//b=2&amp;c=3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>\u6539</code>set \u4FEE\u6539\u53C2\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> search2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
search2<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;666&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>search2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// a=666&amp;b=2&amp;c=3&amp;d=hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>\u662F\u5426\u5B58\u5728</code>has \u5224\u65AD\u6709\u6CA1\u6709<code>key</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u83B7\u53D6<code>URLSearchParams</code>\u6240\u6709\u7684<code>key</code>\u6216\u8005<code>value</code></p><p><code>new URLSearchParams({a:1,b:2,c:3}).keys()</code>,<code>new URLSearchParams({a:1,b:2,c:3}).values()</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> search2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> keys <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5BF9\u4E8E<code>URLSearchParams</code>\u53EF\u4EE5\u4F20<code>\u5B57\u7B26\u4E32</code>,\u53EF\u4EE5\u662F<code>\u5BF9\u8C61</code>\u6216\u662F<code>\u6570\u7EC4</code>\uFF0C\u5F53\u6211\u4EEC\u83B7\u53D6<code>URLSearchParams</code>\u7684 key,\u76F4\u63A5\u8C03\u7528<code>xxx.keys()</code>\u6216\u8005\u662F<code>xxx.values()</code>,\u4E0D\u8FC7\u8FD9\u6837\u53D6\u51FA\u7684\u503C\u662F\u4E00\u4E2A\u8FED\u4EE3\u5668\uFF0C\u8FD8\u9700\u8981\u7528<code>Array.from</code>\u4E2D\u8F6C\u4E00\u4E0B\u3002</p><p>\u8FD8\u539F<code>URLSearchParams</code>\u53C2\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>search2<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {a:1,b:2,c:3}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h3><ol><li><p><code>location</code>\u5E38\u7528\u83B7\u53D6<code>hostname</code>\u3001<code>origin</code>\u3001<code>search</code>\u3001<code>hash</code>\u7B49</p></li><li><p><code>URL</code>\u521B\u5EFA url,\u5E76\u4E14\u62E5\u6709<code>searchParams</code>\u83B7\u53D6 url \u4E2D\u7684<code>?</code>\u540E\u9762\u7684\u53C2\u6570</p></li><li><p>\u5229\u7528<code>URLSearchParams</code>\u9AD8\u6548\u683C\u5F0F\u5316<code>url</code>\u53C2\u6570\uFF0C\u4E24\u884C\u4EE3\u7801\u5B9E\u73B0\u4E86\u683C\u5F0F\u5316<code>?</code>\u53C2\u6570</p></li><li><p><code>URLSearchParams</code>\u8FD9\u4E2A<code>API</code>\u53EF\u4EE5\u76F4\u63A5\u83B7\u53D6 url \u53C2\u6570\uFF0C\u5E76\u63D0\u4F9B<code>\u589E\u5220\u67E5\u6539</code>[append\u3001delete\u3001get\u3001set\u3001has]\u65B9\u6CD5</p></li></ol>`,61),o=[e];function c(l,i){return s(),a("div",null,o)}var r=n(t,[["render",c],["__file","2022-03-29_base.html.vue"]]);export{r as default};
